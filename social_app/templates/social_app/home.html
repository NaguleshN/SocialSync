{% extends 'social_app/base.html' %}
{% block content %}

<h4>Feeds</h4>
    <div class="container">
      <div class="row row-cols-1 row-cols-md-3 g-4 mx-2 mb-3">

      {% for post in posts reversed %}
      <div class="col">
          <div class="card">
              <h6 class="card-title p-2">
                {% for profile in profiles %}
                  {% if profile.user.username == post.user.username %}
                    {{profile.username}}
                  {% endif %}
                {% endfor %}

              </h6>
              
              <img {% if post.post_picture %} 
                      src= "{{ post.post_picture.url }}" 
                  {% else %}
                      src= "https://www.contentviewspro.com/wp-content/uploads/2017/07/default_image.png" 
                  {% endif%}
              class="card-img-top"
                alt="Hollywood Sign on The Hill" />
              <div class="card-body">
                  <p class="card-text">
                      {{post.post_description}}<br>
                      #{{post.hashtag}}
                    </p>
                    {{post.created_at}}
                  </div>
                  <a href="#" class="btn btn-outline-dark btn-sm">Like {{post.likes.all.count}}</a>
          </div>
      </div>
      {% endfor %}

      {% for post in img_posts reversed %}
      <div class="col">
          <div class="card">
              <h6 class="card-title p-2">
                {% for profile in profiles %}
                  {% if profile.user.username == post.user.username %}
                    {{profile.username}}
                  {% endif %}
                {% endfor %}
              </h6>
              <div class="card-body">
                  <p class="card-text">
                      {{post.post_description}}<br>
                      #{{post.hashtag}}
                    </p>
                    {{post.created_at}}
                  </div>
                  <a href="#" class="btn btn-outline-dark btn-sm">Like {{post.likes.all.count}}</a>
          </div>
      </div>
      {% endfor %}
  </div>

{% endblock %}